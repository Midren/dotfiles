- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- shell:
  - [git submodule update --recursive --init, Installing/updating submodules]

# Install DE related stuff
- link:
    ~/.config/i3:      DE/i3
    ~/.config/polybar: DE/polybar
    ~/.config/dunst:   DE/dunst
    ~/.config/compton: DE/compton
    ~/.config/gtk-3.0: DE/gtk-3.0
    ~/.config/rofi:    DE/rofi
    ~/.config/gsimplecal: DE/gsimplecal
    ~/.config/udiskie:  DE/udiskie
    ~/.Xresources:     DE/Xresources
    ~/.fonts:
      create: true
      path: DE/fonts

- shell:
  - [xrdb ~/.Xresources, Update Xresources]
  - [fc-cache -f -v, Update fonts]

# Install vim-related stuff
- link:
    ~/.vim: vim/vim
    ~/.ideavimrc: vim/vimrcs/ideavimrc

- shell:
  - [vim/install_awesome_vimrc.sh, Installing vimrc]
  - [vim +'PlugInstall --sync' +qall &> /dev/null < /dev/tty, Install plugins via Vim-Plug]

- create:
  - ~/.vim/temp_dirs
  - ~/.vim/temp_dirs/undodir

# Install Zsh and Oh-my-zsh
- create:
  - ~/.config/zsh
    ~/.config/custom

- link:
    ~/.zshenv: zsh/zshenv
    ~/.config/zsh/.zshrc: zsh/zshrc
    ~/.config/zsh/oh-my-zsh: zsh/oh-my-zsh
    ~/.config/zsh/custom/plugins: zsh/plugins

# Install ranger with plugins
- link:
    ~/.config/ranger: ranger

- shell:
  - ["find ~/.config/ranger/ -name 'plugin_*' -type d -exec make install -C {} \\;", Install ranger plugins]

# Install other application configs
- link:
    ~/.config/zathura: zathura
    ~/.config/alacritty.yml: alacritty.yml
